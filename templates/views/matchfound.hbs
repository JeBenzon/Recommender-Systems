<!DOCTYPE html>
<html lang="en">

<head>
    <!--Partials head-->
    {{>head}}
</head>

<body>
    <header>
        <!--Partials header-->
        {{>header}}
    </header>


    <div class="container">
        <h1 class="text-center">{{title}}</h1>
        <hr>
        <h2>Hi {{username}}</h2>
        <!--Prints out user ID via div ID (look script) -->
        <div class="inLineBlock" id="matchfound">
            <b>Top three matches for user: {{username}}</b>
        </div>

        <table class="table">
            <tr>
                <td class="col-md-8">
                    <p class="font-weight-bold">{{matchname1}}</p>
                </td>
                <td>
                    <form action="/room" method="POST">
                        <input name="room" value="{{match1id}}" type="hidden">
                        <input name="username2" value={{matchname1}} type="hidden">
                        <button class="btn btn-dark float-right" type="submit">start chat</button>
                    </form>
                </td>
            </tr>
            <tr>
                <td class="col-md-8">
                    <p class="font-weight-bold">{{matchname2}}</p>
                </td>
                <td>
                    <form action="/room" method="POST">
                        <input name="room" value="{{match2id}}" type="hidden">
                        <input name="username2" value={{matchname2}} type="hidden">
                        <button class="btn btn-dark float-right" type="submit">start chat</button>
                    </form>
                </td>
            </tr>
            <tr>
                <td class="col-md-8">
                    <p class="font-weight-bold">{{matchname3}}</p>
                </td>
                <td>
                    <form action="/room" method="POST">
                        <input name="room" value="{{match3id}}" type="hidden">
                        <input name="username2" value={{matchname3}} type="hidden">
                        <button class="btn btn-dark float-right" type="submit">start chat</button>
                    </form>
                </td>
            </tr>
        </table>
        <hr>
        <div class="container">
            <div class="col-md-12 text-center">
            <form action="/showPreviousMatches" method="POST">
                <button type="submit" class="btn btn-primary">Show previous matches</button>
            </form>
            <form action="/showMoreMatches" method="POST">
                <button type="submit" class="btn btn-primary">Show me more matches</button>
            </form>
            </div>
        </div>
        <hr>
        <b>Dine chats: </b>
        <div>
            <table class="table">
                {{#each chats}}
                <tr>
                    <td class="col-md-8">
                        <p>{{name}}</p>
                    </td>
                    <td>
                        <form action="/room" method="POST">
                            <input name="room" value="{{id}}" type="hidden">
                            <input name="username2" value={{name}} type="hidden">
                            <button class="btn btn-dark float-right" type="submit">start chat</button>
                        </form>
                    </td>

                </tr>
                {{/each}}
            </table>
        </div>
    </div>

    <!--
    <script>
        //Gets user ID from prevouis page findmatch.
        const resultList = document.getElementById('matchfound');
        new URLSearchParams(window.location.search).forEach((value,name) => {
            resultList.append(`${value} `);
        })
    </script>
    -->

    <footer>
        <!--Partials footer-->
        {{>footer}}
    </footer>

</body>

</html>